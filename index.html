<!DOCTYPE html>
<html>
<head>
    <title>OAuth2 Callback Page</title>
</head>
<body>
    <h1>OAuth2 Callback Page</h1>
    <script>
        // Get the current URL
        const currentUrl = window.location.href;

        // Check if the message has already been posted
        const messagePosted = localStorage.getItem("messagePosted");

        if (!messagePosted) {
            // Post the message and set the flag
            window.postMessage({ eventName: "oauthCallback", url: currentUrl }, "*");
            localStorage.setItem("messagePosted", "true");
        }

        window.close();
    </script>
</body>
</html>
